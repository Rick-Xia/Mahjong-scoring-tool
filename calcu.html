<!DOCTYPE html>
<html>
<head>
	<title>calculation page</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<style>
	body {
		# text-align: center;
		background-color: #F7F9F9;
	}
	ul {
    	list-style-type: none;
    	overflow: hidden;
	}
	li {
    	float: left;
	}
	button img {
		width: 44px;
		height: 53px;
	}
	</style>

	<script type="text/javascript">
		var indexId = 0; // id for tiles
		var num = 0; // count of tiles in hand

		function alert() {
			document.getElementById("msg").innerHTML = "too many tiles in hand!";
		}

		function refreshMsg() {
			document.getElementById("msg").innerHTML = "";
		}

		function refreshResult() {
			document.getElementById("result").innerHTML = "";
		}

		function clearAll() {
			var hand = document.getElementById("hand");
			while ( hand.firstChild ) {
				hand.removeChild(hand.firstChild);
				num--;
			}
			refreshMsg();
			refreshResult();
		}

		function calc() {
			var ret = document.getElementById("result");

			ret.innerHTML = "0";
		}

		function add(name) {
			if ( num >= 13 )  return alert();

			var buttonTemp = buttonCreate(name);
			buttonTemp.id = indexId;
			buttonTemp.onclick = function () {
				remove(buttonTemp.id);
			};

			var tefuda = document.getElementById("hand");
			tefuda.appendChild(buttonTemp);

			indexId++;
			num++;
			// document.getElementById("i").innerHTML = indexId;
		}

		function remove(id) {
			var element = document.getElementById(id);
			var hand = document.getElementById("hand");
			hand.removeChild(element);
			num--;
			return refreshMsg();
		}

		function buttonCreate(name) {
			var button = document.createElement("button");
			button.type = "button";
			button.name = name;
			button.onclick = function () {
				add(button.name);
			};

			button.innerHTML = '<img src="img/' + button.name + '.png" />';
			return button;
		}

		function tileGenerate(type) {
			var list = document.getElementById(type), count = 1;

			while ( count <= 9 ) {
				var button = buttonCreate(count + type);
				var sublist = document.createElement("li");
				sublist.appendChild(button);

				list.appendChild(sublist);
				count++;
			}
		}
	</script>
</head>

<body>

	<a href="index.html">back to main page</a>
	<br />

	<div style="margin:20px">
		<ul id="p"></ul>
		<ul id="s"></ul>
		<ul id="m"></ul>

		<script type="text/javascript">tileGenerate("p");</script>
		<script type="text/javascript">tileGenerate("s");</script>
		<script type="text/javascript">tileGenerate("m");</script>
	</div>

	<div>
		<p>Hand: <span id="hand"></span></p>
		<!-- p>index = <span id="i">0</span></p-->
		<p>message: <span id="msg"></span></p>
		<button type="button" onclick="calc()">Calculate!</button>
		<p>result: <span id="result"></span></p>
		<button type="button" onclick="clearAll()">Clear all</button>
	</div>

</body>


</html>
