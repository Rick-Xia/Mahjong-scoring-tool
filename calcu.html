<!DOCTYPE html>
<html>
<head>
	<title>calculation page</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<style>
	body {
		# text-align: center;
		background-color: #F7F9F9;
	}
	ul {
    	list-style-type: none;
    	overflow: hidden;
	}
	li {
    	float: left;
	}
	button img {
		# original ratio = 210 / 255
		width: 44px;
		height: 53px;
	}
	</style>

	<script type="text/javascript">
		var indexId = 0; // id for tiles
		var num = 0; // count of tiles in hand

		function alert() {
			document.getElementById("msg").innerHTML = "too many tiles in hand!";
		}

		function refreshMsg() {
			document.getElementById("msg").innerHTML = "";
		}

		function clearAll() {
			var hand = document.getElementById("hand");
			while ( hand.firstChild ) {
				hand.removeChild(hand.firstChild);
				num--;
				refreshMsg();
			}
		}

		function calc() {
			var ret = document.getElementById("result");

			ret.innerHTML = "0";
		}

		function add(name) {
			if ( num >= 13 ) {
				return alert();
			}
			var element = document.createElement("button");
			element.type = "button";
			element.id = indexId;

			element.innerHTML = '<img src="img/' + name + '.png" />';
			element.onclick = function () {
				remove(element.id);
			};

			var tefuda = document.getElementById("hand");
			tefuda.appendChild(element);

			indexId++;
			num++;
			document.getElementById("i").innerHTML = indexId;
		}

		function remove(id) {
			var element = document.getElementById(id);
			var hand = document.getElementById("hand");
			hand.removeChild(element);
			num--;
			return refreshMsg();
		}

		function tileGenerate(type) {
			var list = document.getElementById(type), count = 1;
			var sublist = document.createElement("li");
			var button = document.createElement("button");
			button.type = "button";
			button.id = count + type;
			button.onclick = "add(" + button.id + ")";
			button.innerHTML = '<img src="img/' + name + '.png" />';

			list.appendChild();
		}
	</script>
</head>

<body>

	<a href="index.html">back to main page</a>
	<br />

	<div style="margin:20px">
		<ul id="p">
			<li><button type="button" id="1p" onclick="add(id)"><img src="img/1p.png" alt="1p" /></button></li>
			<li><button type="button" id="2p" onclick="add(id)"><img src="img/2p.png" alt="1p" /></button></li>
			<li><button type="button" id="3p" onclick="add(id)"><img src="img/3p.png" alt="1p" /></button></li>
			<li><button type="button" id="4p" onclick="add(id)"><img src="img/4p.png" alt="1p" /></button></li>
			<li><button type="button" id="5p" onclick="add(id)"><img src="img/5p.png" alt="1p" /></button></li>
			<li><button type="button" id="6p" onclick="add(id)"><img src="img/6p.png" alt="1p" /></button></li>
			<li><button type="button" id="7p" onclick="add(id)"><img src="img/7p.png" alt="1p" /></button></li>
			<li><button type="button" id="8p" onclick="add(id)"><img src="img/8p.png" alt="1p" /></button></li>
			<li><button type="button" id="9p" onclick="add(id)"><img src="img/9p.png" alt="1p" /></button></li>
		</ul>
		<ul id="s">
			<li><button type="button" id="1s" onclick="add(id)"><img src="img/1s.png" alt="1s" /></button></li>
		</ul>
		<ul id="m">
			<li><button type="button" id="1m" onclick="add(id)"><img src="img/1m.png" alt="1m" /></button></li>
		</ul>
	</div>

	<div>
		<p>Hand: <span id="hand"></span></p>
		<p>index = <span id="i">0</span></p>
		<p>message: <span id="msg"></span></p>
		<button type="button" onclick="calc()">Calculate!</button>
		<p>result: <span id="result"></span></p>
		<button type="button" onclick="clearAll()">Clear all</button>
	</div>

</body>


</html>
